<?xml version="1.0" encoding="UTF-8" ?>

<config>

	<module name='civetweb' required='no' />
	<module name='information' required='no' />

	<!-- attribute name='url' value='sqlite+http://localhost' / -->
	<!-- attribute name='alert-url' value='http://localhost/udjat/alert/user/${username}/${name}' / -->

	<interface type='web' action-name='users' required='no' />

	<agent type='users' name='users' update-timer='60'>
	
		<!--
		
			Event names:
			
				Already active	Session is active on startup
				Still active	Session still active on shutdown
				Login			User has logged in
				Logout			User has logged out
				Lock			Session was locked
				Unlock			Session was unlocked
				Foreground		Session is in foreground
				Background		Session is in background
				sleep			Session is preparing to sleep
				resume			Session is resuming from sleep
				shutdown		Session is shutting down
				pulse			Session is alive
		
		-->
	
		<!-- Activate when user is active on service start -->
		<script name='start' trigger-event='Already active' action='post' url='http://localhost'>
			{"user":"${username}","macaddress":"${macaddress}"}
		</script>

		<!-- Activate when user is active on service stop -->
		<!-- action name='stop' trigger-event='Still active'>
		</action -->

		<!-- Activate on user logon -->
		<!-- action name='login' max-retries='1' max-retries='1' action='post' url='http://localhost'>
		</action -->

		<!-- Activate on user logoff -->
		<!-- action name='logout' type='script' cmdline='touch /tmp/logout'>
		</action -->

		<!-- Timer -->
		<script name='pulse' interval='60' on-locked-session='no' cmdline='echo --PULSE--'>
		</script>

		<!-- Activate on user lock -->
		<!-- action name='lock' cmdline='touch /tmp/${username}.lock'>
		</action -->
		
		<!-- Activate on user unlock -->
		<!-- action name='unlock'>
		</action -->
		
	</agent>
	
</config>


